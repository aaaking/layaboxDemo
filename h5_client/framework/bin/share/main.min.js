function onLoaded(){var e=new Laya.Sprite;e.width=Laya.stage.width,e.height=Laya.stage.height,Laya.stage.addChild(e),Laya.Browser.document.addEventListener("visibilitychange",function(){console.log(Laya.Browser.document.hidden)});var t=this.getUrlParams();if(t.type)if(1==t.type){var n=new ShareCode(t);e.addChild(n),n.bottom=0,n.init(t)}else if(2==t.type){var a=new ShareApp(t);e.addChild(a),a.bottom=0}else if(3==t.type){var a=new MatchShareDialog;a.show(GetQueryString("info")),e.addChild(a)}else if(4==t.type){var a=new TableEndView(GetQueryString("info"),t.gametype);e.addChild(a)}else if(5==t.type){var i=new Laya.Image(GetQueryString("info"));Laya.stage.addChild(i),i.centerX=0,i.centerY=0,Laya.timer.once(1e3,this,function(){console.log(Laya.stage.width),console.info(i.getBounds()),i.centerX=0/0,i.centerX=0})}else{var a=new DownLoad(t);e.addChild(a),a.bottom=0}else{var a=new DownLoad(t);e.addChild(a),a.bottom=0}}function onFontLoaded(e){e.setSpaceWidth(10),Laya.Text.registerBitmapFont("font_num_1",e),Laya.loader.load([{url:"bg/bg_menu.jpg",type:Loader.IMAGE},{url:"res/atlas/share.json",type:Loader.ATLAS}],Handler.create(this,this.onLoaded))}function getUrlParams(){var e={},t=Laya.Browser.window.location.href,n=t.indexOf("?");if(0>n)return e;for(var a=t.substr(n+1).split("&"),i=0;i<a.length;i++){var r=a[i].split("=");e[r[0]]=r[1]}return e}function GetQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=Laya.Browser.window.location.search.substr(1).match(t);return null!=n?decodeURI(n[2]):null}var DownLoadApp=function(){function e(){Laya.Browser.onAndriod&&this.downLoad()}return e.prototype.init=function(){},e.prototype.downLoad=function(){var e=new Laya.HttpRequest;e.once(Laya.Event.PROGRESS,this,this.onHttpRequestProgress),e.once(Laya.Event.COMPLETE,this,this.onHttpRequestComplete),e.once(Laya.Event.ERROR,this,this.onHttpRequestError),Laya.Browser.onIOS?e.send("/api/config/getapp?type=ios",null,"get","text"):e.send("/api/config/getapp?type=android",null,"get","text")},e.prototype.onHttpRequestError=function(){},e.prototype.onHttpRequestProgress=function(){},e.prototype.onHttpRequestComplete=function(e){e.length>0&&(Laya.Browser.window.location.href=e)},e}(),_base64key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Base64=function(){function e(){}return e.encode=function(e){var t,n,a,i,r,o,s,p="",h=0;for(e=this._utf8_encode(e);h<e.length;)t=e.charCodeAt(h++),n=e.charCodeAt(h++),a=e.charCodeAt(h++),i=t>>2,r=(3&t)<<4|n>>4,o=(15&n)<<2|a>>6,s=63&a,isNaN(n)?o=s=64:isNaN(a)&&(s=64),p=p+_base64key.charAt(i)+_base64key.charAt(r)+_base64key.charAt(o)+_base64key.charAt(s);return p},e.decode=function(e){var t,n,a,i,r,o,s,p="",h=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<e.length;)i=_base64key.indexOf(e.charAt(h++)),r=_base64key.indexOf(e.charAt(h++)),o=_base64key.indexOf(e.charAt(h++)),s=_base64key.indexOf(e.charAt(h++)),t=i<<2|r>>4,n=(15&r)<<4|o>>2,a=(3&o)<<6|s,p+=String.fromCharCode(t),64!=o&&(p+=String.fromCharCode(n)),64!=s&&(p+=String.fromCharCode(a));return p=this._utf8_decode(p)},e._utf8_encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);128>a?t+=String.fromCharCode(a):a>127&&2048>a?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},e._utf8_decode=function(e){for(var t="",n=0,a=0,i=0,r=0;n<e.length;)a=e.charCodeAt(n),128>a?(t+=String.fromCharCode(a),n++):a>191&&224>a?(i=e.charCodeAt(n+1),t+=String.fromCharCode((31&a)<<6|63&i),n+=2):(i=e.charCodeAt(n+1),r=e.charCodeAt(n+2),t+=String.fromCharCode((15&a)<<12|(63&i)<<6|63&r),n+=3);return t},e}(),__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),View=laya.ui.View,Dialog=laya.ui.Dialog,ui;!function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.DownLoadUI.uiView)},n.uiView={type:"View",props:{y:0,width:640,height:960,centerX:0},child:[{type:"Image",props:{x:0,width:639,skin:"bg/bg_menu.jpg",centerY:0},child:[{type:"Image",props:{y:399,x:237,"var":"_gameType",skin:"share/lishui.png",centerX:0}},{type:"Image",props:{y:685,x:200,skin:"share/weianzhuang.png",centerX:0}},{type:"Button",props:{y:731,x:128,"var":"_download",stateNum:1,skin:"share/download.png",centerX:0}},{type:"Image",props:{y:882,x:83,skin:"share/shoucixiazai.png"}},{type:"Image",props:{y:876,x:448,skin:"share/zhuanshi.png"}},{type:"Image",props:{y:1352,x:166,skin:"share/weixin.png"}},{type:"Label",props:{y:1359,x:227,text:"关注微信公众号：多多休闲游戏中心",fontSize:22,color:"#fff9f4"}},{type:"Label",props:{y:881,x:370,width:90,text:"10",scaleY:.8,scaleX:.8,height:32,font:"font_num_1"}}]}]},n}(View);e.DownLoadUI=t}(ui||(ui={})),function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.HeadImgUI.uiView)},n.uiView={type:"View",props:{width:88,height:88},child:[{type:"Image",props:{"var":"_img"},child:[{type:"Image",props:{y:0,x:0,"var":"_headMask",skin:"share/tongyong_avatar_mask.png",sizeGrid:"30,39,45,33",renderType:"mask"}}]}]},n}(View);e.HeadImgUI=t}(ui||(ui={})),function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.createChildren=function(){View.regComponent("ui.HeadImgUI",e.HeadImgUI),t.prototype.createChildren.call(this),this.createView(e.MatchRankShareUI.uiView)},n.uiView={type:"View",props:{width:640,height:960,centerY:0,centerX:0},child:[{type:"Box",props:{width:640,visible:!0,"var":"_box",height:422,centerY:0,centerX:0},child:[{type:"Image",props:{y:0,width:739,skin:"share/share_bg.jpg",height:421,centerX:0}},{type:"Image",props:{y:0,width:739,skin:"share/avatar.png",sizeGrid:"18,21,17,27",height:421,centerX:0}},{type:"Box",props:{width:640,"var":"_lose",scaleY:.8,scaleX:.8,height:640,centerY:35,centerX:1},child:[{type:"Image",props:{y:248,skin:"share/lose_bg_1.png",centerX:0,anchorY:.5,anchorX:.5}},{type:"Image",props:{y:244,skin:"share/lose_bg_6.png",centerX:0,anchorY:.5,anchorX:.5}},{type:"Image",props:{skin:"share/lose_bg_2.png",centerY:-78.5,centerX:0,anchorY:1,anchorX:.5}},{type:"Image",props:{y:302,skin:"share/lose_bg_5.png",centerX:-110,anchorY:1,anchorX:1}},{type:"Image",props:{y:302,skin:"share/lose_bg_5.png",skewY:180,centerX:12,anchorY:1,anchorX:1}},{type:"Image",props:{skin:"share/lose_bg_3.png",centerY:-17,centerX:0,anchorY:0,anchorX:.5}},{type:"Image",props:{skin:"share/lose_bg_4.png",centerY:-5,centerX:0,anchorY:.5,anchorX:.5}},{type:"Label",props:{y:382,width:382,"var":"_text",text:"请在比赛结束后查看您的排名",fontSize:24,color:"#fcecd3",centerX:0,align:"center"}}]},{type:"Box",props:{width:640,"var":"_win",scaleY:.8,scaleX:.8,height:640,centerY:20,centerX:1},child:[{type:"Image",props:{y:297,x:320,skin:"share/light_quan.png",centerX:0,anchorY:.5,anchorX:.5}},{type:"Image",props:{y:307,x:320,skin:"share/light_quan.png",centerX:0,anchorY:.5,anchorX:.5}},{type:"Image",props:{skin:"share/win_bg_1.png",scaleY:1,scaleX:1,rotation:0,centerY:-39,centerX:0,anchorY:.5,anchorX:.5,alpha:1}},{type:"Image",props:{y:346,skin:"share/win_bg_2.png",centerY:-69,centerX:0,anchorY:1,anchorX:.5,alpha:1}},{type:"Image",props:{y:308,x:259,skin:"share/win_bg_6.png",centerX:-110,anchorY:1,anchorX:1}},{type:"Image",props:{y:312,x:381,skin:"share/win_bg_6.png",skewY:180,centerX:12,anchorY:1,anchorX:1}},{type:"Image",props:{y:314,skin:"share/win_bg_5.png",scaleX:1,centerX:0,anchorY:.5,anchorX:.5,alpha:1}},{type:"Image",props:{y:208,skin:"share/win_bg_3.png",scaleY:1,scaleX:1,centerX:-98.5,anchorY:-1,anchorX:2,alpha:1}},{type:"Image",props:{y:208,skin:"share/win_bg_4.png",scaleY:1,scaleX:1,centerX:101.5,anchorY:-1,anchorX:-1,alpha:1}},{type:"Image",props:{y:334,visible:!1,skin:"share/win_1.png",scaleY:1,scaleX:1,centerX:-1,anchorY:.5,anchorX:.5,alpha:1}},{type:"Image",props:{y:412,"var":"_winText",skin:"share/win_tips_1.png",centerX:0,anchorY:.5,anchorX:.5}},{type:"Label",props:{y:305,x:275,width:97,"var":"_winNum",text:"65",height:32,font:"font_num_1",align:"center"}},{type:"Box",props:{y:426,x:210,width:247,"var":"_re",height:28},child:[{type:"Label",props:{y:0,x:112,width:114,"var":"_reward",text:"label",fontSize:24,color:"#fff448",align:"center"}},{type:"Image",props:{y:4,x:223,skin:"share/diamond.png"}},{type:"Image",props:{x:0,skin:"share/reward.png"}}]}]},{type:"Label",props:{y:40,width:300,"var":"_title",text:"比赛",fontSize:24,color:"#fdfbfb",centerX:.5,align:"center"}},{type:"HeadImg",props:{y:334,x:191,width:73,"var":"_head",height:73,runtime:"ui.HeadImgUI"}},{type:"Label",props:{y:348,x:287,"var":"_name",text:"label",fontSize:20,color:"#fdfbfb"}},{type:"Label",props:{y:382,x:288,"var":"_uid",text:"label",fontSize:20,color:"#fdfbfb"}}]}]},n}(View);e.MatchRankShareUI=t}(ui||(ui={})),function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.ShareCodeViewUI.uiView)},n.uiView={type:"View",props:{width:640,height:1400,centerX:0,bottom:0},child:[{type:"Image",props:{y:0,x:0,width:639,"var":"_bg",skin:"bg/bg_menu.jpg",height:1400},child:[{type:"Image",props:{y:336,x:237,"var":"_gameType",skin:"share/icon.png",centerX:0}},{type:"Button",props:{y:959,x:112,width:415,"var":"_join",stateNum:1,skin:"share/jrfj.png",height:140,centerX:.5}},{type:"Button",props:{y:1181,x:166,width:383,visible:!1,"var":"_download",stateNum:1,skin:"share/xiazai.png",scaleY:.8,scaleX:.8,height:124,centerX:0}},{type:"Image",props:{y:1282,x:83,skin:"share/shoucixiazai.png"}},{type:"Image",props:{y:1274,x:438,skin:"share/zhuanshi.png"}},{type:"Image",props:{y:1352,x:166,skin:"share/weixin.png"}},{type:"Label",props:{y:1359,x:227,text:"关注微信公众号：多多休闲游戏中心",fontSize:22,color:"#fff9f4"}},{type:"Image",props:{y:521,x:189,skin:"share/yqjr.png",centerX:.5}},{type:"Image",props:{y:564,x:219,"var":"_title",skin:"share/3.png",centerX:-1}},{type:"Image",props:{y:631,x:44,width:560,skin:"share/invite_bg.png"},child:[{type:"Image",props:{y:28,x:44,skin:"share/yqm.png"}},{type:"Label",props:{y:25,x:233,"var":"_code",text:"123456",font:"font_num_1"}},{type:"Label",props:{y:121,x:36,wordWrap:!0,width:489,"var":"_desc",text:"label",height:177,fontSize:30,color:"#9b5036"}}]},{type:"Label",props:{y:1281,x:363,width:90,text:"10",scaleY:.8,scaleX:.8,height:32,font:"font_num_1"}},{type:"Sprite",props:{y:1176,x:166,width:306,"var":"_dom",height:99}},{type:"Image",props:{visible:!1,"var":"_mask",top:0,skin:"share/jindutiaodi.png",sizeGrid:"4,5,6,5",right:0,left:0,bottom:0,alpha:.4}},{type:"Image",props:{y:253,x:20,width:600,visible:!1,"var":"_dakai",skin:"share/waibu.png",height:224,centerX:0}}]}]},n}(View);e.ShareCodeViewUI=t}(ui||(ui={})),function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.ShareViewUI.uiView)},n.uiView={type:"View",props:{y:0,width:640,height:960,centerX:0},child:[{type:"Image",props:{x:0,width:639,skin:"bg/bg_menu.jpg",height:1400,bottom:0},child:[{type:"Image",props:{y:399,x:237,"var":"_gameType",skin:"share/icon.png",centerX:0}},{type:"Button",props:{y:609,x:112,width:411,"var":"_start",stateNum:1,skin:"share/ksyx.png",height:140,centerX:0}},{type:"Image",props:{y:766,x:135,skin:"share/yjsq.png",centerX:0}},{type:"Button",props:{y:831,width:382,visible:!1,"var":"_download",stateNum:1,skin:"share/xiazai.png",height:124,centerX:.5}},{type:"Image",props:{y:1022,x:83,skin:"share/shoucixiazai.png"}},{type:"Image",props:{y:1017,x:438,skin:"share/zhuanshi.png"}},{type:"Image",props:{y:1352,x:166,skin:"share/weixin.png"}},{type:"Label",props:{y:1359,x:227,text:"关注微信公众号：多多休闲游戏中心",fontSize:22,color:"#fff9f4"}},{type:"Label",props:{y:1021,x:362,width:90,text:"10",scaleY:.8,scaleX:.8,height:32,font:"font_num_1"}},{type:"Image",props:{y:0,x:0,visible:!1,"var":"_mask",top:0,skin:"share/jindutiaodi.png",sizeGrid:"4,5,6,5",right:0,left:0,bottom:0,alpha:.4}},{type:"Image",props:{y:305,x:20,width:604,visible:!1,"var":"_dakai",skin:"share/waibu.png",height:224,centerX:0}}]},{type:"Sprite",props:{y:657,x:128,width:383,"var":"_dom",height:124}}]},n}(View);e.ShareViewUI=t}(ui||(ui={})),function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.TableEndInfoUI.uiView)},n.uiView={type:"View",props:{width:600,height:400,centerX:0},child:[{type:"Image",props:{y:0,width:600,"var":"_bg",skin:"share/share_bg.jpg",sizeGrid:"200,0,30,0",height:960,centerX:0}},{type:"Image",props:{y:16,"var":"_game",skin:"share/3.png",centerX:0}},{type:"Label",props:{y:64,x:430,"var":"_time",text:"2018-9-12",fontSize:20,color:"#fbf6f6"}},{type:"Label",props:{y:31,x:430,"var":"_count",text:"局数",fontSize:20,color:"#fdf1f1"}}]},n}(View);e.TableEndInfoUI=t}(ui||(ui={})),function(e){var t=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.createChildren=function(){View.regComponent("ui.HeadImgUI",e.HeadImgUI),t.prototype.createChildren.call(this),this.createView(e.TableEndItemUI.uiView)},n.uiView={type:"View",props:{},child:[{type:"Image",props:{y:0,x:0,width:580,"var":"_bg",skin:"share/loseItem.png",height:109},child:[{type:"Label",props:{y:47,x:123,"var":"_name",text:"label",fontSize:24,color:"#623000",centerY:0}},{type:"Label",props:{"var":"_score",text:"0",right:48.326171875,fontSize:24,centerY:-.5,anchorX:.5}},{type:"HeadImg",props:{y:10,x:17,"var":"_avatar",runtime:"ui.HeadImgUI"}}]}]},n}(View);e.TableEndItemUI=t}(ui||(ui={})),function(e){var t;!function(t){var n=function(t){function n(){return t.call(this)||this}return __extends(n,t),n.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.test.TestPageUI.uiView)},n.uiView={type:"View",child:[{props:{x:0,y:0,skin:"comp/bg.png",sizeGrid:"30,4,4,4",width:600,height:400},type:"Image"},{props:{x:41,y:56,skin:"comp/button.png",label:"点我赋值",width:150,height:37,sizeGrid:"4,4,4,4","var":"btn"},type:"Button"},{props:{x:401,y:56,skin:"comp/clip_num.png",clipX:10,"var":"clip"},type:"Clip"},{props:{x:220,y:143,skin:"comp/combobox.png",labels:"select1,select2,selecte3",selectedIndex:1,sizeGrid:"4,20,4,4",width:200,height:23,"var":"combobox"},type:"ComboBox"},{props:{x:220,y:96,skin:"comp/tab.png",labels:"tab1,tab2,tab3","var":"tab"},type:"Tab"},{props:{x:259,y:223,skin:"comp/vscroll.png",height:150},type:"VScrollBar"},{props:{x:224,y:223,skin:"comp/vslider.png",height:150},type:"VSlider"},{type:"List",child:[{type:"Box",child:[{props:{skin:"comp/label.png",text:"this is a list",x:26,y:5,width:78,height:20,fontSize:14,name:"label"},type:"Label"},{props:{x:0,y:2,skin:"comp/clip_num.png",clipX:10,name:"clip"},type:"Clip"}],props:{name:"render",x:0,y:0,width:112,height:30}}],props:{x:452,y:68,width:128,height:299,vScrollBarSkin:"comp/vscroll.png",repeatX:1,"var":"list"}},{props:{x:563,y:4,skin:"comp/btn_close.png",name:"close"},type:"Button"},{props:{x:41,y:112,skin:"comp/button.png",label:"点我赋值",width:150,height:66,sizeGrid:"4,4,4,4",labelSize:30,labelBold:!0,"var":"btn2"},type:"Button"},{props:{x:220,y:188,skin:"comp/checkbox.png",label:"checkBox1","var":"check"},type:"CheckBox"},{props:{x:220,y:61,skin:"comp/radiogroup.png",labels:"radio1,radio2,radio3","var":"radio"},type:"RadioGroup"},{type:"Panel",child:[{props:{skin:"comp/image.png"},type:"Image"}],props:{x:299,y:223,width:127,height:150,vScrollBarSkin:"comp/vscroll.png"}},{props:{x:326,y:188,skin:"comp/checkbox.png",label:"checkBox2",labelColors:"#ff0000"},type:"CheckBox"},{type:"Box",child:[{props:{y:70,skin:"comp/progress.png",width:150,height:14,sizeGrid:"4,4,4,4",name:"progress"},type:"ProgressBar"},{props:{y:103,skin:"comp/label.png",text:"This is a Label",width:137,height:26,fontSize:20,name:"label"},type:"Label"},{props:{y:148,skin:"comp/textinput.png",text:"textinput",width:150,name:"input"},type:"TextInput"},{props:{skin:"comp/hslider.png",width:150,name:"slider"},type:"HSlider"},{props:{y:34,skin:"comp/hscroll.png",width:150,name:"scroll"},type:"HScrollBar"}],props:{x:41,y:197,"var":"box"}}],props:{width:600,height:400}},n}(View);t.TestPageUI=n}(t=e.test||(e.test={}))}(ui||(ui={}));var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),DownLoad=function(e){function t(t){var n=e.call(this)||this;return n.init(t),n}return __extends(t,e),t.prototype.init=function(e){var t=this;Laya.Browser.onAndriod&&this.downLoad();var n=e.gamearea||"lishui";this._gameType.skin="share/"+n+".png",this._download.on(Laya.Event.CLICK,this,this.downLoad),this._download.on(Laya.Event.MOUSE_DOWN,this,function(){t._download.scale(.9,.9)}),this._download.on(Laya.Event.MOUSE_UP,this,function(){t._download.scale(1,1)})},t.prototype.downLoad=function(){var e=new DownLoadApp;e.downLoad(),this._download.scale(1,1)},t}(ui.DownLoadUI),__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),MatchShareDialog=function(e){function t(){var t=e.call(this)||this;return t._autoHide=!0,t}return __extends(t,e),t.prototype.show=function(e){var t=Base64.decode(e);this._data=JSON.parse(t),this._winNum.text=String(this._data.r),this._data.s>2?(this._lose.visible=!1,this._win.visible=!0,this._winText.skin=1==this._data.r?"share/win_tips_1.png":"share/win_tips_2.png",this._data.d>0?(this._re.visible=!0,this._reward.text=String(this._data.d)):this._re.visible=!1):(this._lose.visible=!0,this._win.visible=!1,this._text.text="继续努力，走向人生巅峰！"),this._title.text=this._data.t,this._head._img.loadImage(this._data.a,0,0,73,73),this._head._headMask.width=73,this._head._headMask.height=73,this._head.width=73,this._head.height=73,this._name.text=this._data.n,this._uid.text=String(this._data.u)},t}(ui.MatchRankShareUI),__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ShareApp=function(e){function t(t){var n=e.call(this)||this;return n.init(t),n}return __extends(t,e),t.prototype.init=function(e){var t=this;this._start.on(Laya.Event.CLICK,this,this.joinGame),this._download.on(Laya.Event.CLICK,this,this.downLoad);var n=e.gamearea||"lishui";this._gameType.skin="share/"+n+".png",this._start.visible=!0,this._start.on(Laya.Event.MOUSE_DOWN,this,function(){t._start.scale(.9,.9)}),this._start.on(Laya.Event.MOUSE_UP,this,function(){t._start.scale(1,1)});for(var a=0;3>a;a++)Laya.timer.once(1e3*a+200,this,function(){var e=this.createInputElement(),t=this._download.localToGlobal(new laya.maths.Point(0,0));this._dom.y=t.y-180,Laya.Utils.fitDOMElementInArea(e,this._dom,0,0,this._download.width,this._download.height)})},t.prototype.downLoad=function(){this._mask.visible=!0,this._dakai.visible=!0},t.prototype.createInputElement=function(){{var e=Laya.Browser.createElement("img");Laya.Browser.window.location.host,Laya.Browser.document.domain}return e.style.zIndex=Laya.Render.canvas.zIndex+1,e.style.width="100px",e.src="share/dakai.png",e.onclick=function(){Laya.Browser.document.getElementById("test").click()},Laya.Browser.document.body.appendChild(e),e},t.prototype.joinGame=function(){console.log("click================================"),this._start.scale(1,1);var e=(Laya.Browser.window.location.host,Laya.Browser.document.domain,Laya.Browser.window.location.href),t=e.substring(0,e.lastIndexOf("/share/"))+"/index.html"+Laya.Browser.window.location.search+"&t="+Math.random();Laya.Browser.window.location=t},t}(ui.ShareViewUI),__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ShareCode=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(e){var t=this,n=e.game_rule;this.params=e,this._code.text=e.roomcode;var a=e.gamearea||"lishui";this._gameType.skin="share/"+a+".png",e.match_rule?(this._join.skin="share/baoming.png",this._desc.text=decodeURI(e.match_rule),this._title.skin="share/"+e.gametype+".png"):(this._join.skin="share/jrfj.png",this._title.skin="share/"+e.gametype+".png",this._desc.text=decodeURI(n)),this._join.on(Laya.Event.CLICK,this,this.joinGame);for(var i=0;3>i;i++)Laya.timer.once(1e3*i+200,this,function(){var e=this.createInputElement(),t=this._download.localToGlobal(new laya.maths.Point(0,0));this._dom.y=t.y+260,Laya.Utils.fitDOMElementInArea(e,this._dom,0,0,383*.8,99.2)});this.btnscaleX=this._download.scaleX,this._join.on(Laya.Event.MOUSE_DOWN,this,function(){t._join.scale(.9,.9)}),this._join.on(Laya.Event.MOUSE_UP,this,function(){t._join.scale(1,1)})},t.prototype.downLoad=function(){this._mask.visible=!0,this._dakai.visible=!0},t.prototype.createInputElement=function(){{var e=Laya.Browser.createElement("img");Laya.Browser.window.location.host,Laya.Browser.document.domain}return e.style.zIndex=Laya.Render.canvas.zIndex+1,e.style.width="100px",e.src="share/dakai.png",e.onclick=function(){Laya.Browser.document.getElementById("test").click()},Laya.Browser.document.body.appendChild(e),e},t.prototype.joinGame=function(){console.log("click================================");var e=(Laya.Browser.window.location.host,Laya.Browser.document.domain,Laya.Browser.window.location.href),t=e.substring(0,e.lastIndexOf("/share/"))+"/index.html"+Laya.Browser.window.location.search+"&t="+Math.random();Laya.Browser.window.location=t,this._join.scale(1,1)},t}(ui.ShareCodeViewUI),__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),TableEndView=function(e){function t(t){var n=e.call(this)||this;n.icon={3:"share/3.png",4:"share/4.png",5:"share/3.png",6:"share/3.png",7:"share/7.png",8:"share/8.png"};var a=Base64.decode(t);return n._data=JSON.parse(a),n._gameType=n._data.g||"3",n.init(),n}return __extends(t,e),t.prototype.init=function(){this._game.skin=this.icon[this._gameType],this._count.text="局数:"+this._data.c+"/"+this._data.c,this._time.text=this._data.t;for(var e in this._data.p){var t=new ui.TableEndItemUI,n=this._data.p[e];t._name.text=n.n,t._score.text=n.s,t._avatar._img.loadImage(n.a,0,0,80,80),t._avatar._img.width=80,t._avatar._img.height=80,t._avatar._headMask.width=80,t._avatar._headMask.height=80,this._bg.addChild(t),t.centerX=0,t.y=130*parseInt(e)+200}},t}(ui.TableEndInfoUI),__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),test=ui.test.TestPageUI,Label=laya.ui.Label,Handler=laya.utils.Handler,Loader=laya.net.Loader,TestUI=function(e){function t(){var t=e.call(this)||this;return t.btn.on(laya.events.Event.CLICK,t,t.onBtnClick),t.btn2.on(laya.events.Event.CLICK,t,t.onBtn2Click),t}return __extends(t,e),t.prototype.onBtnClick=function(){this.radio.selectedIndex=1,this.clip.index=8,this.tab.selectedIndex=2,this.combobox.selectedIndex=0,this.check.selected=!0},t.prototype.onBtn2Click=function(){this.box.dataSource={slider:50,scroll:80,progress:.2,input:"This is a input",label:{color:"#ff0000",text:"Hello LayaAir"}};for(var e=[],t=0;100>t;t++)e.push({label:"item "+t,clip:t%9});this.list.array=e},t.prototype.onListRender=function(e,t){var n=e.getChildByName("label");n.color=t%2?"#ff0000":"#000000"},t}(ui.test.TestPageUI);Laya.init(640,1136),Laya.stage.scaleMode=Laya.Stage.SCALE_SHOWALL,Laya.stage.screenMode=Laya.Stage.SCREEN_VERTICAL,Laya.stage.alignH="center",Laya.stage.alignV="middle";var bitmapFont=new Laya.BitmapFont;bitmapFont.loadFont("font_num_1/font_num_1.fnt",new Handler(this,onFontLoaded,[bitmapFont]));