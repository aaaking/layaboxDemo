var CardPackageManager=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.getCountByID=function(t){for(var r in this._cards){var n=this._cards[r];if(n.id==t)return parseInt(n.count)}return null},t.prototype.addCountByID=function(t){for(var r in this._cards){var n=this._cards[r];n.id==t&&(n.count=n.count+1)}},t.prototype.toAscii=function(t){var r="",n=0,e=t.length;for("0x"===t.substring(0,2)&&(n=2);n<e;n+=2){var o=parseInt(t.substr(n,2),16);r+=String.fromCharCode(o)}return r},t.prototype.testInitCards=function(t){this._cards=[],Ajax.callNet(GameConfig.RPC_URL,{jsonrpc:"2.0",method:"eth_call",params:[{from:localStorage.getItem("uuid"),to:GameConfig.RPC_ADDRESS,data:"0x179a074f"},"latest"],id:67},"POST",null,function(r){console.info(r);var n=JSON.parse(r).result.substring(130);n="0x"+n;var e=this.toAscii(n).split(",");e.pop();for(var o in e){var i=e[o].split(":"),a=parseInt(i[0]),s=GameConfig.getCfgHeroById(a),c=i[1],u={id:a,count:c,cfg:s,isHave:Math.random()>.5};c>0&&this._cards.push(u)}console.info(this._cards),t()}.bind(this))},Object.defineProperty(t.prototype,"cards",{get:function(){return this._cards?(this.deleteNull(),this._cards.sort(this.sortOnNormal)):[]},enumerable:!0,configurable:!0}),t.prototype.deleteNull=function(){for(var t=0;t<this._cards.length;)this._cards[t]?t++:this._cards.splice(t,1)},Object.defineProperty(t.prototype,"sortOnCampCards",{get:function(){return this.deleteNull(),this._cards.sort(this.sortOnCamp)},enumerable:!0,configurable:!0}),t.prototype.sortOnNormal=function(t,r){return t.cfg.id<r.cfg.id?-1:t.cfg.id==r.cfg.id?0:1},t.prototype.sortOnCamp=function(t,r){return t.cfg.camp<r.cfg.camp?-1:t.cfg.camp==r.cfg.camp?0:1},t}();