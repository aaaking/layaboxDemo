var WareHouseManager=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.toAscii=function(t){var e="",r=0,a=t.length;for("0x"===t.substring(0,2)&&(r=2);r<a;r+=2){var n=parseInt(t.substr(r,2),16);e+=String.fromCharCode(n)}return e},t.prototype.testInitCards=function(t){this._cards=[],Ajax.callNet(GameConfig.RPC_URL,{jsonrpc:"2.0",method:"eth_call",params:[{from:localStorage.getItem("uuid"),to:GameConfig.RPC_ADDRESS,data:"0x3c3830342cb00000000000000000000000000000"},"latest"],id:67},"POST",null,function(e){console.info(e);var r=JSON.parse(e).result.substring(130);r="0x"+r;var a=this.toAscii(r).split(",");a.pop();for(var n in a){var i=a[n].split(":"),s=parseInt(i[0]),o=GameConfig.getCfgHeroById(s),c=i[1],u=!1;CardPackageManager.instance.cards&&CardPackageManager.instance.cards[s]&&CardPackageManager.instance.cards[s]>0&&(u=!0);var d={id:s,count:c,cfg:o,isHave:u};this._cards.push(d)}console.info(this._cards),t()}.bind(this))},Object.defineProperty(t.prototype,"cards",{get:function(){return this._cards},enumerable:!0,configurable:!0}),t.prototype.getCardsByCamp=function(t){return 5==t?this.cards:this._cards.filter(function(e){return GameConfig.getCfgHeroById(e.id).camp==t})},t}();