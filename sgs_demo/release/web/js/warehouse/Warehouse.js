var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a])};return function(e,a){function n(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Warehouse=function(t){function e(){var e=t.call(this)||this;e._names=["魏","蜀","吴","群","全部"],e._mask.width=Laya.stage.width,e._mask.height=Laya.stage.height,e._mask.on(Laya.Event.CLICK,e,e.onTouch),e._btnBack.on(Laya.Event.CLICK,e,e.onTouch),Laya.stage.on(Laya.Event.RESIZE,e,e.onResize),e._tab.removeChildren(),e._tab.initItems();for(var a=0;a<5;a++){var n=new Laya.Button;n.skin="menu/btn_4.png",n.stateNum=2,n.label=e._names[a],n.labelColors="#e2eff7,#e2eff7,#e2eff7,#e2eff7",n.labelSize=30,n.name="item"+a,e._tab.addItem(n),n.x=0,n.y=99*a}return e._tab.selectHandler=new Laya.Handler(e,e.checkTab),e._tab.selectedIndex=4,e.checkTab(),e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),e.prototype.show=function(t){var a=this;t&&!e.instance.parent&&t.addChild(e.instance),WareHouseManager.instance.testInitCards(function(){a._list.itemRender=WareHouseCard,a._list.scrollBar.visible=!1,a._list.renderHandler=new Laya.Handler(a,a.updateList),a._list.array=WareHouseManager.instance.cards,a.onResize(null)})},e.prototype.onTouch=function(t){switch(t.currentTarget){case this._btnBack:this.removeSelf()}},e.prototype.setList=function(t){this._list.array=WareHouseManager.instance.getCardsByCamp(t)},e.prototype.updateList=function(t,e){t.updata()},e.prototype.onResize=function(t){void 0===t&&(t=null),this.width=Laya.stage.width,this.height=Laya.stage.height;var e=Math.floor((this.width-190-196)/224);this._list.width=224*e+196,this._list.x=this.width-this._list.width>>1},e.prototype.checkTab=function(){this.setList(this._tab.selectedIndex+1)},e}(ui.warehouse.WarehouseUI);