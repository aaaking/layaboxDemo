var ExchangeManager=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.toAscii=function(t){var e="",r=0,n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e},t.prototype.testInitCards=function(t){this._cards=[],Ajax.callNet(GameConfig.RPC_URL,{jsonrpc:"2.0",method:"eth_call",params:[{from:localStorage.getItem("uuid"),to:GameConfig.RPC_ADDRESS,data:"0x3ded315b"},"latest"],id:67},"POST",null,function(e){console.info(e);var r=JSON.parse(e).result.substring(130);r="0x"+r;var n=this.toAscii(r).split(";");n.pop();for(var i in n){var a=n[i].split(","),s=parseInt(a[0]),o=GameConfig.getCfgHeroById(parseInt(a[1])),c=a[2];if(!(parseInt(c)<=0)){var f={id:s,price:c,cfg:o,isself:1==a[3]};this._cards.push(f)}}console.info(this._cards),t()}.bind(this))},Object.defineProperty(t.prototype,"cards",{get:function(){return this._cards},enumerable:!0,configurable:!0}),t.prototype.getCardsByCamp=function(t){return 5==t?this.cards:this._cards.filter(function(e){return GameConfig.getCfgHeroById(e.id).camp==t})},t}();