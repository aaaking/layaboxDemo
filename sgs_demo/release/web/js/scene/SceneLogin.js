var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),SceneLogin=function(e){function t(){var t=e.call(this)||this;return Laya.stage.on(Laya.Event.RESIZE,t,t.onResize),t._btnLogin.on(Laya.Event.CLICK,t,t.onTouch),t}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return localStorage.removeItem("uuid"),this._instance||(this._instance=new t),this._instance},enumerable:!0,configurable:!0}),t.prototype.show=function(){this.onResize(),Laya.stage.addChild(t.instance)},t.prototype.onTouch=function(e){switch(e.currentTarget){case this._btnLogin:Laya.stage.removeChildren();localStorage.getItem("uuid")?SceneMenu.instance.show():Ajax.callNet(GameConfig.RPC_URL,{jsonrpc:"2.0",method:"personal_newAccount",params:[""],id:67},"POST",null,function(e){console.info(e);var t=JSON.parse(e);localStorage.setItem("uuid",t.result),SceneMenu.instance.show(),Ajax.callNet(GameConfig.RPC_URL,{jsonrpc:"2.0",method:"personal_unlockAccount",params:[GameConfig.BASE_COIN,GameConfig.BASE_PASS,null],id:67},"POST",null,function(e){console.info(e);JSON.parse(e).result&&Ajax.callNet(GameConfig.RPC_URL,{jsonrpc:"2.0",method:"eth_sendTransaction",params:[{from:GameConfig.BASE_COIN,to:localStorage.getItem("uuid"),value:"0x4563918244F40000"}],id:67},"POST",null,function(e){console.info(e)})})}.bind(this))}},t.prototype.onResize=function(e){void 0===e&&(e=null),this.width=Laya.stage.width,this.height=Laya.stage.height},t.prototype.getDeviceUUID=function(){var e=localStorage.getItem("uuid");return e||(e=StringUtils.makeRandomString(32),localStorage.setItem("uuid",e)),e},t}(ui.scene.SceneLoginUI);